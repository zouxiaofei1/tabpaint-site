# 多标签页与工作区管理

通过顶部的缩略图栏，您可以直观地管理当前打开的所有图片。

## 1. 智能工作区加载

TabPaint 旨在统一“看图”与“修图”的工作流。

### 同级文件自动加载
当 TabPaint 作为图片打开方式启动时，软件会自动加载该文件夹下的所有图片。
- 可以使用鼠标滚轮或方向键快速切换查看同目录下的图片。
- 该功能可以在 `设置` 中关闭。

### 打开模式的区别
在 `文件` 菜单中，提供了两种不同的打开方式以适应不同场景：

- **打开 (Open File)**: 打开单张图片，将其加入到当前的工作区队列中，**不会**关闭已存在的图片。
- **打开新工作区 (Open Workspace)**: 彻底切换工作场景。此操作会**关闭当前 ImageBar 中的所有图片**，并加载目标文件夹下的所有内容。

## 2. 自动保存机制

::: info 💾 原图保护机制
在 TabPaint 中进行涂鸦、裁剪或调整时，所有的修改**不会立即写入原文件**。
:::

- **自动缓存**: 您的每一次编辑都会被实时自动保存到系统的缓存目录：
  `C:\Users\用户名\AppData\Local\TabPaint`
- **状态记忆**: 即使不保存直接关闭软件，**下次启动时**，TabPaint 会自动恢复上次未关闭的标签页，并且您的涂鸦、修改依然存在。
- **手动确认**: 只有当您按下 <kbd>Ctrl</kbd> + <kbd>S</kbd> 时，修改才会真正覆盖原始图片文件。

如果对结果不满意，直接关闭标签页即可。

## 3. 临时创作画板

- **新建画布**: 按下 <kbd>Ctrl</kbd> + <kbd>N</kbd> 或点击 ImageBar 上的 **`+`** 号。
- **剪贴板新建**: 如果剪贴板中有图片数据，按下 <kbd>Ctrl</kbd> + <kbd>N</kbd> 会直接以该图片为基础创建新标签页。

这些新建的“临时图片”同样受缓存系统保护，无需在创建时命名或选择保存路径，直到您决定导出它们。

## 4. 批量管理工具

当 ImageBar 中打开了大量图片时，可以利用以下三个按钮进行快速整理：

| 按钮功能 | 描述 |
| :--- | :--- |
| **💾 保存所有已编辑图片** | 批量将所有缓存中的修改写入到对应的原文件中（慎用）。 |
| **❌ 关闭所有未编辑图片** | 快速清理工作区，只保留您动过（画过、修过）的图片，方便专注处理选中的图。 |
| **↩️ 放弃所有更改** | 清除缓存中的修改记录，将所有图片重置为磁盘上的原始状态。 |

